--CS340 SQL Statements for SELECT/INSERT/UPDATE/DELETE

-------------------------------------------------------- ANIMAL PAGE QUERIES

-- SELECT ALL ANIMALS
SELECT a.ANIMAL_ID, CONCAT(UCASE(LEFT(a.NAME, 1)),LCASE(SUBSTRING(a.NAME, 2))) as NAME , a.AGE, a.WEIGHT, l.ZIP_CODE, CONCAT(UCASE(LEFT(s.SPECIES_NAME, 1)),LCASE(SUBSTRING(s.SPECIES_NAME, 2))) as SPECIES_NAME FROM ANIMAL a  left join SPECIES s on s.SPECIES_ID = a.SPECIES_ID left join LOCATION l on l.LOCATION_ID = a.LOCATION_ID order by a.ANIMAL_ID

-- SELECT ONLY ONE ANIMAL FOR UPDATE
SELECT ANIMAL_ID , NAME, AGE, WEIGHT, LOCATION_ID, SPECIES_ID FROM ANIMAL WHERE ANIMAL_ID = :userInput

-- SELECT ALL SPECIES TO POPULATE DROP DOWN
SELECT SPECIES_NAME, SPECIES_ID FROM SPECIES ORDER BY SPECIES_ID

-- SELECT ALL ZIP CODES TO POPULATE DROP DOWNS
SELECT ZIP_CODE, LOCATION_ID FROM LOCATION ORDER BY LOCATION_ID

-- INSERT FOR ANIMAL
INSERT INTO ANIMAL (NAME, AGE, WEIGHT, LOCATION_ID, SPECIES_ID) 
VALUES (:inputName, :inputAge, :inputWeight,
(SELECT LOCATION_ID FROM LOCATION WHERE ZIP_CODE = :inputLocationID), 
(SELECT SPECIES_ID FROM SPECIES WHERE SPECIES_NAME = :inputSpeciesID))
 
 --UPDATE FOR ANIMAL
 UPDATE ANIMAL SET NAME = :inputName, 
 AGE = :inputAge,  
 WEIGHT = :inputWeight, 
 LOCATION_ID = :inputLocationID, 
 SPECIES_ID =  :inputSpeciesID 
 WHERE ANIMAL_ID = :inputAnimalID
 
 -- DELETE FOR ANIMAL
 DELETE FROM ANIMAL WHERE ANIMAL_ID = :inputAnimalID
 
-------------------------------------------------------- PEOPLE PAGE QUERIES

--SELECT ALL PEOPLE
SELECT PEOPLE_ID, FIRST_NAME, LAST_NAME FROM PEOPLE ORDER BY LAST_NAME, FIRST_NAME

--INSERT FOR PEOPLE
INSERT INTO PEOPLE (FIRST_NAME, LAST_NAME) VALUES (UPPER(:inputFirstName), UPPER(:inputLastName))

--DELETE PERSON
DELETE FROM PEOPLE WHERE PEOPLE_ID = :inputPeopleID


-------------------------------------------------------- PEOPLE LOCATION PAGE QUERIES

--SELECT ALL PEOPLE AND THEIR LOCATIONS
SELECT PEOPLE_LOCATION.PEOPLE_LOCATION_ID, PEOPLE.PEOPLE_ID, PEOPLE.FIRST_NAME , PEOPLE.LAST_NAME, LOCATION.LOCATION_ID, LOCATION.ZIP_CODE FROM PEOPLE_LOCATION INNER JOIN PEOPLE ON PEOPLE.PEOPLE_ID=PEOPLE_LOCATION.PEOPLE_ID INNER JOIN LOCATION ON LOCATION.LOCATION_ID = PEOPLE_LOCATION.LOCATION_ID ORDER BY PEOPLE.LAST_NAME, PEOPLE.FIRST_NAME, LOCATION.ZIP_CODE

-- SELECT ALL ZIP CODES TO POPULATE DROP DOWN
SELECT ZIP_CODE, LOCATION_ID FROM LOCATION ORDER BY LOCATION_ID

--SELECT ALL PEOPLE NAMES FOR DROP DOWN
SELECT CONCAT(LAST_NAME,', ',FIRST_NAME) as FULL_NAME FROM PEOPLE ORDER BY LAST_NAME, FIRST_NAME

--INSERT INTO PEOPLE LOCATION
INSERT INTO `PEOPLE_LOCATION` (`PEOPLE_ID`, `LOCATION_ID`) 
VALUES ((SELECT DISTINCT PEOPLE_ID FROM PEOPLE WHERE FIRST_NAME = :inputFirstName and LAST_NAME = :inputLastName), 
		(SELECT DISTINCT LOCATION_ID FROM LOCATION WHERE ZIP_CODE in (:inputZipCode) ))

--DELETE PEOPLE LOCATION ROW
DELETE FROM PEOPLE_LOCATION WHERE PEOPLE_ID = :inputPeopleID  AND LOCATION_ID = :inputLocationID


-------------------------------------------------------- PEOPLE SPECIES PAGE QUERIES

--SELECT ALL PEOPLE AND THEIR SPECIES
SELECT PEOPLE_SPECIES.PEOPLE_SPECIES_ID , PEOPLE.PEOPLE_ID, PEOPLE.FIRST_NAME , PEOPLE.LAST_NAME, SPECIES.SPECIES_ID, SPECIES.SPECIES_NAME FROM PEOPLE_SPECIES INNER JOIN PEOPLE ON PEOPLE.PEOPLE_ID=PEOPLE_SPECIES.PEOPLE_ID INNER JOIN SPECIES ON SPECIES.SPECIES_ID = PEOPLE_SPECIES.SPECIES_ID ORDER BY PEOPLE.LAST_NAME, PEOPLE.FIRST_NAME, SPECIES.SPECIES_NAME

-- SELECT ALL SPECIES TO POPULATE DROP DOWN
SELECT SPECIES_NAME, SPECIES_ID FROM SPECIES ORDER BY SPECIES_ID

--SELECT ALL PEOPLE NAMES FOR DROP DOWN
SELECT CONCAT(LAST_NAME,', ',FIRST_NAME) as FULL_NAME FROM PEOPLE ORDER BY LAST_NAME, FIRST_NAME

--INSERT INTO PEOPLE SPECIES
INSERT INTO `PEOPLE_SPECIES` (`PEOPLE_ID`, `SPECIES_ID`)
 VALUES ((SELECT DISTINCT PEOPLE_ID FROM PEOPLE WHERE FIRST_NAME = :inputFirstName and LAST_NAME = :inputLastName), 
		(SELECT DISTINCT SPECIES_ID FROM SPECIES WHERE SPECIES_NAME in (:inputSpeciesName) ))
	
--DELETE PEOPLE SPECIES ROW
DELETE FROM PEOPLE_SPECIES WHERE PEOPLE_ID = :inputPeopleID AND SPECIES_ID = :inputSpeciesID



-------------------------------------------------------- LOCATION PAGE QUERIES

-- SELECT ALL LOCATIONS
SELECT LOCATION_ID, ZIP_CODE, CITY, STATE from LOCATION ORDER BY LOCATION_ID

--INSERT FOR LOCATION
INSERT INTO LOCATION (ZIP_CODE, CITY, STATE) VALUES (:inputZipCode, UPPER(:inputCity), UPPER(:inputState))

-- DELETE FOR LOCATION
DELETE FROM LOCATION WHERE LOCATION_ID = :inputLocationID


-------------------------------------------------------- SPECIES PAGE QUERIES

--SELECT ALL SPECIES
SELECT SPECIES_ID, SPECIES_NAME FROM SPECIES

--INSERT FOR SPECIES
INSERT INTO SPECIES (SPECIES_NAME) VALUES (UPPER(:inputSpeciesName))

--DELETE FOR SPECIES
DELETE FROM SPECIES WHERE SPECIES_ID = :inputSpeciesID











